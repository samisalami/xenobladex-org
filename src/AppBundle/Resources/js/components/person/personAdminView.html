<div class="person-admin-view">
    <a href="/admin/personen/was-fehlt" class="btn-primary btn m-b-2">Welche Daten fehlen?</a>
    <div class="alert alert-warning" ng-show="deletedPerson">
        <a ng-click="addDeletedPerson()" href="#">Gelöschte Zeile wiederherstellen</a>
    </div>
    <input type="text" class="form-control text m-y-2" ng-model="modalFilterValue" placeholder="Filtern..." />
    <div class="list-group collapsed-table-view">
        <div>
            <button class="list-group-item list-group-item-success" data-toggle="collapse" data-target="#new-person-collapsible" aria-expanded="false" aria-controls="new-person-collapsible">Neue Person</button>
            <div class="collapse" id="new-person-collapsible">
                <div class="card card-block">
                    <div class="row">
                        <h4 class="col-md-3 col-xs-6 card-title p-y-1">
                            <a href="#" editable-text="newPerson.name">{{newPerson.name || 'eintragen'}}</a>
                        </h4>
                        <div class="col-lg-3 hidden-sm-down">
                        </div>
                        <div class="col-lg-3 hidden-sm-down">
                        </div>
                        <div class="col-md-3 col-xs-6">
                            <button href="#" class="btn btn-success pull-right" ng-click="addPerson(newPerson)">
                                Hinzufügen
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3 card card-block col-xs-12">
                            <strong>Alter:</strong>
                            <p>
                                <a href="#" editable-text="newPerson.age">{{newPerson.age || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Spezies:</strong>
                            <p>
                                <a href="#" editable-select="newPerson.species" e-ng-options="species.name as species.name for species in speciesList">{{ newPerson.species || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Beruf:</strong>
                            <p>
                                <a href="#" editable-text="newPerson.job">{{newPerson.job || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Beschreibung:</strong>
                            <p>
                                <a href="#" editable-textarea="newPerson.description">{{newPerson.description || 'eintragen'}}</a>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Region:</strong>
                            <p>
                                <a href="#" editable-select="newPerson.region" e-ng-options="region.name as region.name for region in regions">{{ newPerson.region || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Zeit:</strong>
                            <p>
                                <a href="#" editable-text="newPerson.activity_time">{{newPerson.activity_time || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Ortsbeschreibung:</strong>
                            <p>
                                <a href="#" editable-textarea="newPerson.location_note">{{newPerson.location_note || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Bedingungen:</strong>
                            <p>
                                <a href="#" editable-textarea="newPerson.conditions">{{newPerson.conditions || 'eintragen'}}</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div ng-repeat="person in persons | listFilter:modalFilterValue:'name'">
            <button class="list-group-item" data-toggle="collapse" data-target="#person-view-{{$index}}" aria-expanded="false" aria-controls="person-view-{{$index}}">{{person.name}}</button>
            <div class="collapse" id="person-view-{{$index}}">
                <div class="card card-block">
                    <div class="row">
                        <h4 class="col-md-3 col-xs-6 card-title p-y-1"><a href="#" editable-text="person.name" onaftersave="updatePerson(person)">{{person.name || 'eintragen'}}</a></h4>
                        <div class="col-lg-3 hidden-sm-down">
                        </div>
                        <div class="col-lg-3 hidden-sm-down">
                        </div>
                        <div class="col-md-3 col-xs-6">
                            <button href="#" class="btn btn-danger pull-right" ng-click="deletePerson(person)">
                                Löschen
                            </button>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3 card card-block col-xs-12">
                            <strong>Alter:</strong>
                            <p>
                                <a href="#" editable-text="person.age" onaftersave="updatePerson(person)">{{person.age || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Spezies:</strong>
                            <p>
                                <a href="#" editable-select="person.species" e-ng-options="species.name as species.name for species in speciesList" onaftersave="updatePerson(person)">{{ person.species || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Beruf:</strong>
                            <p>
                                <a href="#" editable-text="person.job" onaftersave="updatePerson(person)">{{person.job || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Beschreibung:</strong>
                            <p>
                                <a href="#" editable-textarea="person.description" onaftersave="updatePerson(person)">{{person.description || 'eintragen'}}</a>
                            </p>
                        </div>
                    </div>
                    <div class="row">
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Region:</strong>
                            <p>
                                <a href="#" editable-select="person.region" e-ng-options="region.name as region.name for region in regions" onaftersave="updatePerson(person)">{{ person.region || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Zeit:</strong>
                            <p>
                                <a href="#" editable-text="person.activity_time" onaftersave="updatePerson(person)">{{person.activity_time || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Ortsbeschreibung:</strong>
                            <p>
                                <a href="#" editable-textarea="person.location_note" onaftersave="updatePerson(person)">{{person.location_note || 'eintragen'}}</a>
                            </p>
                        </div>
                        <div class="col-lg-3 card card-block col-xs-12 ">
                            <strong>Bedingungen:</strong>
                            <p>
                                <a href="#" editable-textarea="person.conditions" onaftersave="updatePerson(person)">{{person.conditions || 'eintragen'}}</a>
                            </p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>